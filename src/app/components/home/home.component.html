<div id="wrapper">

  <!-- Sidebar -->
  <ul class="sidebar navbar-nav">

    <li class="nav-item" *ngFor="let student of student_list">
      <a class="nav-link" (click)="changeStudent(student)">
        {{student['name']}}
      </a>
    </li>
  </ul>

  <div id="content-wrapper">

    <div class="container-fluid">

      <!-- Breadcrumbs-->
      <ol class="breadcrumb" *ngIf="selected_student">
        <li class="breadcrumb-item">
          {{selected_student.name}}
        </li>
        <li class="breadcrumb-item active">Overview</li>
      </ol>

      <!-- loading spinner -->
      <div *ngIf="isLoading" class="col-md-12 col-sm-12 mt-5 d-flex justify-content-center" style="width: 800px;">
        <div class="spinner-border text-primary justify-content-center" role="status">
          <span class="sr-only">Loading...</span>
        </div>
      </div>

      <!-- Icon Cards-->
      <div class="row" *ngIf="!isLoading">
        <div class="col-xl-3 col-sm-6 mb-3">
          <div class="card text-white bg-primary o-hidden h-100">
            <div class="card-body">
              <div class="card-body-icon">
                <i class="fas fa-fw fa-comments"></i>
              </div>
              <div class="mr-5">26 New Messages!</div>
            </div>
            <a class="card-footer text-white clearfix small z-1" href="#">
              <span class="float-left">View Details</span>
              <span class="float-right">
                <i class="fas fa-angle-right"></i>
              </span>
            </a>
          </div>
        </div>
        <div class="col-xl-3 col-sm-6 mb-3">
          <div class="card text-white bg-warning o-hidden h-100">
            <div class="card-body">
              <div class="card-body-icon">
                <i class="fas fa-fw fa-list"></i>
              </div>
              <div class="mr-5">11 New Tasks!</div>
            </div>
            <a class="card-footer text-white clearfix small z-1" href="#">
              <span class="float-left">View Details</span>
              <span class="float-right">
                <i class="fas fa-angle-right"></i>
              </span>
            </a>
          </div>
        </div>
        <div class="col-xl-3 col-sm-6 mb-3">
          <div class="card text-white bg-success o-hidden h-100">
            <div class="card-body">
              <div class="card-body-icon">
                <i class="fas fa-fw fa-shopping-cart"></i>
              </div>
              <div class="mr-5">123 New Orders!</div>
            </div>
            <a class="card-footer text-white clearfix small z-1" href="#">
              <span class="float-left">View Details</span>
              <span class="float-right">
                <i class="fas fa-angle-right"></i>
              </span>
            </a>
          </div>
        </div>
        <div class="col-xl-3 col-sm-6 mb-3">
          <div class="card text-white bg-danger o-hidden h-100">
            <div class="card-body">
              <div class="card-body-icon">
                <i class="fas fa-fw fa-life-ring"></i>
              </div>
              <div class="mr-5">13 New Tickets!</div>
            </div>
            <a class="card-footer text-white clearfix small z-1" href="#">
              <span class="float-left">View Details</span>
              <span class="float-right">
                <i class="fas fa-angle-right"></i>
              </span>
            </a>
          </div>
        </div>
      </div>

      <!-- Area Chart Example-->
      <div class="card mb-3" *ngIf="!isLoading">
        <div class="card-header">
          Mental Health Issue Indicator Over Time
          <span class="header-small">
            All questions available and answered are weighted on a 1-5 scale based on severity. The higher the number,
            the more likely this question is an indicator of mental health issues.
            This chart represents the average weight of all questions answered in surveys over time.
          </span>
        </div>
        <div class="card-body" *ngIf="lineChartData">
          <canvas baseChart width="100%" height="30" [datasets]="lineChartData" [labels]="lineChartLabels"
            [options]="lineChartOptions" [colors]="lineChartColors" [legend]="lineChartLegend"
            [chartType]="lineChartType"></canvas>
        </div>

        <div class="card-footer small text-muted" *ngIf="surveys_taken.length > 0">Updated
          {{surveys_taken[0]['date_taken']}}</div>
      </div>

      <!-- DataTables Example -->
      <div class="card mb-3" *ngIf="!isLoading">
        <div class="card-header">
          Surveys Taken</div>
        <div class="card-body">
          <div class="table-responsive">
            <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
              <thead>
                <tr>
                  <th>Date Taken</th>
                  <th># Questions Answered</th>
                  <th># Trues</th>
                  <th># Falses</th>
                  <th>Mental Health Issue Indication</th>
                </tr>
              </thead>
              <tfoot>
                <tr>
                  <th>Date Taken</th>
                  <th># Questions Answered</th>
                  <th># Trues</th>
                  <th># Falses</th>
                  <th>Mental Health Issue Indication</th>
                </tr>
              </tfoot>
              <tbody>
                <tr *ngFor="let survey of surveys_taken">
                  <td>{{survey['date_taken']}}</td>
                  <td>{{survey['num_answered']}}</td>
                  <td>{{survey['num_true']}}</td>
                  <td>{{survey['num_false']}}</td>
                  <td>{{survey['health_score']}}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

    </div>
    <!-- /.container-fluid -->

  </div>
  <!-- /.content-wrapper -->

</div>
